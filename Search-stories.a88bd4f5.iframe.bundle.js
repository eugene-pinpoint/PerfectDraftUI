(self.webpackChunkcomponent_library=self.webpackChunkcomponent_library||[]).push([[3248],{"./node_modules/@mui/material/CircularProgress/CircularProgress.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>CircularProgress_CircularProgress});var objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),clsx=__webpack_require__("./node_modules/@mui/material/node_modules/clsx/dist/clsx.mjs"),composeClasses=__webpack_require__("./node_modules/@mui/utils/esm/composeClasses/composeClasses.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),capitalize=__webpack_require__("./node_modules/@mui/material/utils/capitalize.js"),useThemeProps=__webpack_require__("./node_modules/@mui/material/styles/useThemeProps.js"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),generateUtilityClasses=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js"),generateUtilityClass=__webpack_require__("./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js");function getCircularProgressUtilityClass(slot){return(0,generateUtilityClass.Z)("MuiCircularProgress",slot)}(0,generateUtilityClasses.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["className","color","disableShrink","size","style","thickness","value","variant"];let _t,_t2,_t3,_t4,_=t=>t;const circularRotateKeyframe=(0,emotion_react_browser_esm.F4)(_t||(_t=_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),circularDashKeyframe=(0,emotion_react_browser_esm.F4)(_t2||(_t2=_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),CircularProgressRoot=(0,styled.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,styles[ownerState.variant],styles[`color${(0,capitalize.Z)(ownerState.color)}`]]}})((({ownerState,theme})=>(0,esm_extends.Z)({display:"inline-block"},"determinate"===ownerState.variant&&{transition:theme.transitions.create("transform")},"inherit"!==ownerState.color&&{color:(theme.vars||theme).palette[ownerState.color].main})),(({ownerState})=>"indeterminate"===ownerState.variant&&(0,emotion_react_browser_esm.iv)(_t3||(_t3=_`
      animation: ${0} 1.4s linear infinite;
    `),circularRotateKeyframe))),CircularProgressSVG=(0,styled.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(props,styles)=>styles.svg})({display:"block"}),CircularProgressCircle=(0,styled.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.circle,styles[`circle${(0,capitalize.Z)(ownerState.variant)}`],ownerState.disableShrink&&styles.circleDisableShrink]}})((({ownerState,theme})=>(0,esm_extends.Z)({stroke:"currentColor"},"determinate"===ownerState.variant&&{transition:theme.transitions.create("stroke-dashoffset")},"indeterminate"===ownerState.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState})=>"indeterminate"===ownerState.variant&&!ownerState.disableShrink&&(0,emotion_react_browser_esm.iv)(_t4||(_t4=_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),circularDashKeyframe))),CircularProgress_CircularProgress=react.forwardRef((function CircularProgress(inProps,ref){const props=(0,useThemeProps.Z)({props:inProps,name:"MuiCircularProgress"}),{className,color="primary",disableShrink=!1,size=40,style,thickness=3.6,value=0,variant="indeterminate"}=props,other=(0,objectWithoutPropertiesLoose.Z)(props,_excluded),ownerState=(0,esm_extends.Z)({},props,{color,disableShrink,size,thickness,value,variant}),classes=(ownerState=>{const{classes,variant,color,disableShrink}=ownerState,slots={root:["root",variant,`color${(0,capitalize.Z)(color)}`],svg:["svg"],circle:["circle",`circle${(0,capitalize.Z)(variant)}`,disableShrink&&"circleDisableShrink"]};return(0,composeClasses.Z)(slots,getCircularProgressUtilityClass,classes)})(ownerState),circleStyle={},rootStyle={},rootProps={};if("determinate"===variant){const circumference=2*Math.PI*((44-thickness)/2);circleStyle.strokeDasharray=circumference.toFixed(3),rootProps["aria-valuenow"]=Math.round(value),circleStyle.strokeDashoffset=`${((100-value)/100*circumference).toFixed(3)}px`,rootStyle.transform="rotate(-90deg)"}return(0,jsx_runtime.jsx)(CircularProgressRoot,(0,esm_extends.Z)({className:(0,clsx.Z)(classes.root,className),style:(0,esm_extends.Z)({width:size,height:size},rootStyle,style),ownerState,ref,role:"progressbar"},rootProps,other,{children:(0,jsx_runtime.jsx)(CircularProgressSVG,{className:classes.svg,ownerState,viewBox:"22 22 44 44",children:(0,jsx_runtime.jsx)(CircularProgressCircle,{className:classes.circle,style:circleStyle,ownerState,cx:44,cy:44,r:(44-thickness)/2,fill:"none",strokeWidth:thickness})})}))}))},"./src/stories/Search.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Defaults:()=>Defaults,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Search_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/storybook-addon-state/dist/index.js"),dist_default=__webpack_require__.n(dist),makeStyles=__webpack_require__("./node_modules/@mui/styles/makeStyles/makeStyles.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,makeStyles.Z)((function styles(theme){return{root:{backgroundColor:theme.palette.primary.main,padding:theme.spacing(6,2,2,2),display:"flex",flexDirection:"column",alignItems:"stretch"}}}),{name:"RSFSearchHeader"});function SearchHeader(_ref){var classes=_ref.classes,children=_ref.children;return classes=useStyles({classes}),(0,jsx_runtime.jsx)("div",{className:classes.root,children})}SearchHeader.displayName="SearchHeader",SearchHeader.propTypes={classes:prop_types_default().object,children:prop_types_default().node},SearchHeader.defaultProps={},SearchHeader.__docgenInfo={description:"A element to be placed at the top of a [SearchDrawer](/apiReference/search/SearchDrawer).",methods:[],displayName:"SearchHeader",props:{classes:{description:"Override or extend the styles applied to the component. See [CSS API](#css) below for more details.",type:{name:"object"},required:!1},children:{description:"Children to be rendered inside the header.",type:{name:"node"},required:!1}}};var SearchForm=__webpack_require__("./src/search/SearchForm.js"),SearchField=__webpack_require__("./src/search/SearchField.js"),Drawer=__webpack_require__("./src/drawer/Drawer.js"),router=__webpack_require__("./node_modules/next/router.js");var SearchDrawer_useStyles=(0,makeStyles.Z)((function styles(theme){return{paper:{display:"flex"},closeButton:{color:theme.palette.primary.contrastText}}}),{name:"RSFSearch"});function SearchDrawer(_ref){var DrawerComponent=_ref.DrawerComponent,classes=_ref.classes,open=_ref.open,onClose=_ref.onClose,children=_ref.children;classes=SearchDrawer_useStyles({classes});return function useNavigationEvent(cb){(0,react.useEffect)((function(){return router.default.events.on("routeChangeStart",cb),function(){return router.default.events.off("routeChangeStart",cb)}}),[])}((function handleNavigation(){onClose&&onClose()})),(0,jsx_runtime.jsx)(DrawerComponent,{classes,open,anchor:"bottom",onClose,fullscreen:!0,children})}SearchDrawer.displayName="SearchDrawer",SearchDrawer.propTypes={classes:prop_types_default().object,children:prop_types_default().node,open:prop_types_default().bool,onClose:prop_types_default().func.isRequired,DrawerComponent:prop_types_default().elementType},SearchDrawer.defaultProps={DrawerComponent:Drawer.Z},SearchDrawer.__docgenInfo={description:"",methods:[],displayName:"SearchDrawer",props:{DrawerComponent:{defaultValue:{value:"Drawer",computed:!0},description:"A component type to use for the drawer.",type:{name:"elementType"},required:!1},classes:{description:"Override or extend the styles applied to the component. See [CSS API](#css) below for more details.",type:{name:"object"},required:!1},children:{description:"Children to be rendered inside the drawer.",type:{name:"node"},required:!1},open:{description:"If `true`, the search drawer should be open.",type:{name:"bool"},required:!1},onClose:{description:"A function that is called when the user closes the drawer.",type:{name:"func"},required:!0}}};var SearchButton=__webpack_require__("./src/search/SearchButton.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),Link=__webpack_require__("./src/link/Link.js"),Image=__webpack_require__("./src/Image.js");const search_SearchContext=(0,react.createContext)();var objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),amp=__webpack_require__("./node_modules/next/amp.js"),_excluded=["query","text","className","classes","children"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var addHighlight=function addHighlight(query,text){var className=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return text?function escapeHtml(unsafe){return unsafe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}(text).replace(new RegExp(query,"gi"),(function(match){return'<span class="'.concat(className,'">').concat(match,"</span>")})):""};function Highlight(_ref){var query=_ref.query,text=_ref.text,className=_ref.className,_ref$classes=_ref.classes,classes=void 0===_ref$classes?{}:_ref$classes,children=_ref.children,props=(0,objectWithoutProperties.Z)(_ref,_excluded);return(0,amp.useAmp)()?(0,jsx_runtime.jsx)(Typography.Z,_objectSpread(_objectSpread({},props),{},{children:text})):(0,jsx_runtime.jsxs)("div",{className,children:[(0,jsx_runtime.jsx)(Typography.Z,_objectSpread(_objectSpread({},props),{},{dangerouslySetInnerHTML:{__html:addHighlight(query,text,classes.highlight)}})),children]})}function SearchSuggestionItem_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function SearchSuggestionItem_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SearchSuggestionItem_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SearchSuggestionItem_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}Highlight.displayName="Highlight",Highlight.__docgenInfo={description:"",methods:[],displayName:"Highlight",props:{classes:{defaultValue:{value:"{}",computed:!1},required:!1}}};var SearchSuggestionItem_useStyles=(0,makeStyles.Z)((function styles(theme){return{thumbnail:{marginBottom:"10px",display:"none","[data-ui=thumbnails] &":{display:"block","& img":{height:120,width:120,minWidth:120}}},highlight:{backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"2px",color:theme.palette.secondary.main}}}),{name:"RSFSearchSuggestionItem"});function SearchSuggestionItem(_ref){var ImageComponent=_ref.ImageComponent,classes=_ref.classes,item=_ref.item,ui=_ref.ui,thumbnailProps=_ref.thumbnailProps,children=_ref.children;classes=SearchSuggestionItem_useStyles({classes});var query=(0,react.useContext)(search_SearchContext).query;return(0,jsx_runtime.jsx)("li",{className:"search-suggestions__item",children:(0,jsx_runtime.jsx)(Link.Z,{as:item.as,href:item.href,pageData:item.pageData,children:children||(0,jsx_runtime.jsx)("a",{href:item.as,className:"search-suggestions__link",children:(0,jsx_runtime.jsxs)("div",{"data-ui":ui,className:"search-suggestions__inner",children:[(0,jsx_runtime.jsx)(ImageComponent,SearchSuggestionItem_objectSpread(SearchSuggestionItem_objectSpread({className:classes.thumbnail},thumbnailProps),item.thumbnail)),(0,jsx_runtime.jsxs)(Highlight,{className:"search-suggestions__text",query,text:item.text,classes,children:[(0,jsx_runtime.jsxs)("span",{className:"search-suggestions__sku",children:["SKU: ",item.sku]}),(0,jsx_runtime.jsxs)("span",{className:"search-suggestions__price",children:["£",item.price]})]})]})})})})}SearchSuggestionItem.displayName="SearchSuggestionItem",SearchSuggestionItem.propTypes={classes:prop_types_default().object,children:prop_types_default().node,item:prop_types_default().shape({as:prop_types_default().string,href:prop_types_default().string,text:prop_types_default().string,pageData:prop_types_default().object,thumbnail:prop_types_default().object}),thumbnailProps:prop_types_default().object,ImageComponent:prop_types_default().elementType},SearchSuggestionItem.defaultProps={ImageComponent:Image.Z},SearchSuggestionItem.__docgenInfo={description:"",methods:[],displayName:"SearchSuggestionItem",props:{ImageComponent:{defaultValue:{value:"Image",computed:!0},description:"The component type to use to display images.",type:{name:"elementType"},required:!1},classes:{description:"Override or extend the styles applied to the component. See [CSS API](#css) below for more details.",type:{name:"object"},required:!1},children:{description:"Child nodes that can be used for the link body. If not included, will default to using the\n[item](prop-item)'s `thumbnail` and `text`.",type:{name:"node"},required:!1},item:{description:"Contains all the metadata needed to display the search suggestion item.",type:{name:"shape",value:{as:{name:"string",required:!1},href:{name:"string",required:!1},text:{name:"string",required:!1},pageData:{name:"object",required:!1},thumbnail:{name:"object",required:!1}}},required:!1},thumbnailProps:{description:"Props to be passed to the image for thumbnails.",type:{name:"object"},required:!1}}};var SearchSuggestionGroup_useStyles=(0,makeStyles.Z)((function styles(theme){return{root:{listStyle:"none",margin:theme.spacing(2),"& a strong":{fontWeight:"bold",color:"inherit"}},caption:{textTransform:"uppercase",fontWeight:"bold",paddingBottom:5,borderBottom:"1px solid ".concat(theme.palette.divider),margin:theme.spacing(0,0,1,0)},list:{"&[data-ui=list]":{padding:0,margin:theme.spacing(0,0,4,0)},"&[data-ui=thumbnails]":{display:"flex",flexDirection:"column",listStyle:"none",margin:"0 -15px",padding:"0 10px",overflowX:"auto","& > li":{margin:"5px"}}}}}),{name:"RSFSearchSuggestionGroup"});function SearchSuggestionGroup(_ref){var classes=_ref.classes,ui=_ref.ui,caption=_ref.caption,links=_ref.links,children=_ref.children;return classes=SearchSuggestionGroup_useStyles({classes}),(0,jsx_runtime.jsxs)("div",{className:classes.root,children:[(0,jsx_runtime.jsx)(Typography.Z,{className:classes.caption,children:caption}),(0,jsx_runtime.jsx)("ul",{className:classes.list,"data-ui":ui,children:children||links.map((function(item,i){return(0,jsx_runtime.jsx)(SearchSuggestionItem,{item,ui},i)}))}),!links.length&&(0,jsx_runtime.jsx)("div",{className:"search__helper",children:"There are no results matching your criteria"})]})}SearchSuggestionGroup.displayName="SearchSuggestionGroup",SearchSuggestionGroup.propTypes={classes:prop_types_default().object,children:prop_types_default().node,links:prop_types_default().arrayOf(prop_types_default().shape({as:prop_types_default().string,href:prop_types_default().string,text:prop_types_default().string,pageData:prop_types_default().object,thumbnail:prop_types_default().object})),caption:prop_types_default().string.isRequired},SearchSuggestionGroup.defaultProps={},SearchSuggestionGroup.__docgenInfo={description:"",methods:[],displayName:"SearchSuggestionGroup",props:{classes:{description:"Override or extend the styles applied to the component. See [CSS API](#css) below for more details.",type:{name:"object"},required:!1},children:{description:"Child nodes that can be used for the suggestion group instead of mapping the [links](#prop-links).",type:{name:"node"},required:!1},links:{description:"An array of props to pass to a [SearchSuggestionItem](/apiReference/search/SearchSuggestionItem)\nwith data for suggested searches.",type:{name:"arrayOf",value:{name:"shape",value:{as:{name:"string",required:!1},href:{name:"string",required:!1},text:{name:"string",required:!1},pageData:{name:"object",required:!1},thumbnail:{name:"object",required:!1}}}},required:!1},caption:{description:"A title for the list.",type:{name:"string"},required:!0}}};var LoadMask=__webpack_require__("./src/LoadMask.js");function SearchSuggestions_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function SearchSuggestions_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SearchSuggestions_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SearchSuggestions_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var _Defaults$parameters,_Defaults$parameters2,SearchSuggestions_useStyles=(0,makeStyles.Z)((function styles(theme){return{root:{flex:1,position:"relative",overflowY:"auto"},group:{margin:theme.spacing(0,0,2,0)}}}),{name:"RSFSearchSuggestions"});function SearchSuggestions(_ref){var classes=_ref.classes,render=_ref.render;classes=SearchSuggestions_useStyles({classes});var state=(0,react.useContext)(search_SearchContext).state;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LoadMask.Z,{show:state.loading,transparent:!0}),(0,jsx_runtime.jsx)("div",{className:classes.root,children:render?render(state):state.groups&&state.groups.map((function(group){return(0,jsx_runtime.jsx)("div",{className:classes.group,children:(0,jsx_runtime.jsx)(SearchSuggestionGroup,SearchSuggestions_objectSpread({},group))},group.caption)}))})]})}function Search_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function Search_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Search_stories_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Search_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}SearchSuggestions.propTypes={classes:prop_types_default().object},SearchSuggestions.defaultProps={},SearchSuggestions.__docgenInfo={description:"",methods:[],displayName:"SearchSuggestions",props:{classes:{description:"Override or extend the styles applied to the component. See [CSS API](#css) below for more details.",type:{name:"object"},required:!1}}};const Search_stories={parameters:{storySource:{source:"import React from 'react';\nimport useState from 'storybook-addon-state';\nimport SearchHeader from '../search/SearchHeader';\nimport SearchForm from '../search/SearchForm';\nimport SearchField from '../search/SearchField';\nimport SearchDrawer from '../search/SearchDrawer';\nimport SearchButton from '../search/SearchButton';\nimport SearchSuggestions from '../search/SearchSuggestions';\nexport default {\n  title: 'Search'\n};\nconst [searchOpen, setSearchOpen] = useState(false);\nconst toggleSearch = () => setSearchOpen(!searchOpen);\nconst closeSearch = () => setSearchOpen(false);\nexport const Defaults = () => <div>\n        <SearchButton onClick={toggleSearch} />\n        <SearchDrawer open={searchOpen} onClose={closeSearch}>\n        <SearchForm>\n            <SearchHeader>\n            <SearchField />\n            </SearchHeader>\n            <SearchSuggestions />\n        </SearchForm>\n        </SearchDrawer>\n    </div>;\nDefaults.parameters = {\n  ...Defaults.parameters,\n  docs: {\n    ...Defaults.parameters?.docs,\n    source: {\n      originalSource: \"() => <div>\\n        <SearchButton onClick={toggleSearch} />\\n        <SearchDrawer open={searchOpen} onClose={closeSearch}>\\n        <SearchForm>\\n            <SearchHeader>\\n            <SearchField />\\n            </SearchHeader>\\n            <SearchSuggestions />\\n        </SearchForm>\\n        </SearchDrawer>\\n    </div>\",\n      ...Defaults.parameters?.docs?.source\n    }\n  }\n};",locationsMap:{defaults:{startLoc:{col:24,line:15},endLoc:{col:10,line:25},startBody:{col:24,line:15},endBody:{col:10,line:25}}}}},title:"Search"};var _useState=dist_default()(!1),_useState2=(0,slicedToArray.Z)(_useState,2),searchOpen=_useState2[0],setSearchOpen=_useState2[1],toggleSearch=function toggleSearch(){return setSearchOpen(!searchOpen)},closeSearch=function closeSearch(){return setSearchOpen(!1)},Defaults=function Defaults(){return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(SearchButton.Z,{onClick:toggleSearch}),(0,jsx_runtime.jsx)(SearchDrawer,{open:searchOpen,onClose:closeSearch,children:(0,jsx_runtime.jsxs)(SearchForm.Z,{children:[(0,jsx_runtime.jsx)(SearchHeader,{children:(0,jsx_runtime.jsx)(SearchField.Z,{})}),(0,jsx_runtime.jsx)(SearchSuggestions,{})]})})]})};Defaults.displayName="Defaults",Defaults.parameters=Search_stories_objectSpread(Search_stories_objectSpread({},Defaults.parameters),{},{docs:Search_stories_objectSpread(Search_stories_objectSpread({},null===(_Defaults$parameters=Defaults.parameters)||void 0===_Defaults$parameters?void 0:_Defaults$parameters.docs),{},{source:Search_stories_objectSpread({originalSource:"() => <div>\n        <SearchButton onClick={toggleSearch} />\n        <SearchDrawer open={searchOpen} onClose={closeSearch}>\n        <SearchForm>\n            <SearchHeader>\n            <SearchField />\n            </SearchHeader>\n            <SearchSuggestions />\n        </SearchForm>\n        </SearchDrawer>\n    </div>"},null===(_Defaults$parameters2=Defaults.parameters)||void 0===_Defaults$parameters2||null===(_Defaults$parameters2=_Defaults$parameters2.docs)||void 0===_Defaults$parameters2?void 0:_Defaults$parameters2.source)})});var __namedExportsOrder=["Defaults"];Defaults.__docgenInfo={description:"",methods:[],displayName:"Defaults"}},"./src/Image.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Image});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),clsx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),react_visibility_sensor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-visibility-sensor/dist/visibility-sensor.js"),react_visibility_sensor__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_visibility_sensor__WEBPACK_IMPORTED_MODULE_2__),_mui_styles_makeStyles__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/styles/makeStyles/makeStyles.js"),_PWAContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/PWAContext.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["lazy","lazyOffset","notFoundSrc","height","width","fill","bind","contain","classes","className","aspectRatio","alt","src","url","amp","optimize","onChange","onSrcChange","onAltChange","value","ImgElement"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var useStyles=(0,_mui_styles_makeStyles__WEBPACK_IMPORTED_MODULE_5__.Z)((function styles(theme){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:1,minWidth:1},image:{},fit:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"block",width:"100%",height:"100%"},contain:{"& img":{objectFit:"contain",maxHeight:"100%",maxWidth:"100%"}},fill:{width:"100%",height:"100%","& img":{display:"block",objectFit:"contain",maxHeight:"100%",maxWidth:"100%",width:"100%",height:"100%"}}}}),{name:"RSFImage"});function Image(_ref){var _clsx,_clsx2,lazy=_ref.lazy,lazyOffset=_ref.lazyOffset,notFoundSrc=_ref.notFoundSrc,height=_ref.height,width=_ref.width,fill=_ref.fill,contain=(_ref.bind,_ref.contain),classes=_ref.classes,className=_ref.className,aspectRatio=_ref.aspectRatio,alt=_ref.alt,src=_ref.src,ImgElement=(_ref.url,_ref.amp,_ref.optimize,_ref.onChange,_ref.onSrcChange,_ref.onAltChange,_ref.value,_ref.ImgElement),imgAttributes=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__.Z)(_ref,_excluded);classes=useStyles({classes});var hydrating=((0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_PWAContext__WEBPACK_IMPORTED_MODULE_3__.Z)||{}).hydrating,_useState=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1===lazy||"ssr"===lazy&&!hydrating),_useState2=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__.Z)(_useState,2),loaded=_useState2[0],setLoaded=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),_useState4=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_7__.Z)(_useState3,2),primaryNotFound=_useState4[0],setPrimaryNotFound=_useState4[1],ref=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();if((0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){var img=ref.current;img&&img.complete&&0===img.naturalWidth&&setPrimaryNotFound(!0)}),[]),null==src)return null;contain=contain||aspectRatio,primaryNotFound&&notFoundSrc&&(src=notFoundSrc);var result=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_8__.Z)(className,(_clsx={},(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(_clsx,classes.root,!0),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(_clsx,classes.contain,contain),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(_clsx,classes.fill,fill),_clsx)),children:[aspectRatio&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{paddingTop:"".concat(100*aspectRatio,"%")}}),loaded&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ImgElement,_objectSpread(_objectSpread({ref,src,height,width,alt,className:(0,clsx__WEBPACK_IMPORTED_MODULE_8__.Z)((_clsx2={},(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(_clsx2,classes.image,!0),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.Z)(_clsx2,classes.fit,null!=aspectRatio),_clsx2))},imgAttributes),{},{onError:"amp-img"!==ImgElement?function(){return setPrimaryNotFound(!0)}:void 0}),src)]});return result=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_visibility_sensor__WEBPACK_IMPORTED_MODULE_2___default(),{active:!loaded,onChange:function lazyLoad(visible){!loaded&&visible&&setLoaded(!0)},partialVisibility:!0,offset:{top:-lazyOffset,bottom:-lazyOffset},children:result})}Image.propTypes={src:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,url:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,notFoundSrc:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,aspectRatio:prop_types__WEBPACK_IMPORTED_MODULE_9___default().number,contain:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,fill:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,lazy:prop_types__WEBPACK_IMPORTED_MODULE_9___default().oneOf(["ssr",!0,!1]),lazyOffset:prop_types__WEBPACK_IMPORTED_MODULE_9___default().number},Image.defaultProps={contain:!1,fill:!1,lazy:!1,lazyOffset:100,ImgElement:"img"},Image.__docgenInfo={description:"Displays an image that can be lazy loaded and made to auto-scale to fit the parent element\nby setting the `fill` prop, or grow/shrink while maintaining a given aspect ratio\nby setting the `aspectRatio` prop.",methods:[],displayName:"Image",props:{contain:{defaultValue:{value:"false",computed:!1},description:"Set to `true` to apply object-fit:contain to the image so that it automatically\nfits within the element's height and width.",type:{name:"bool"},required:!1},fill:{defaultValue:{value:"false",computed:!1},description:"The same as `contain`, except images are stretched to fill the element's height and width.",type:{name:"bool"},required:!1},lazy:{defaultValue:{value:"false",computed:!1},description:'Set to `true` to wait until the image enters the viewport before loading it. Set to `"ssr"` to\nonly lazy load images during server side rendering.',type:{name:"enum",value:[{value:"'ssr'",computed:!1},{value:"true",computed:!1},{value:"false",computed:!1}]},required:!1},lazyOffset:{defaultValue:{value:"100",computed:!1},description:"Sets the minimum amount of pixels the image can be scrolled out of view before it\nis lazy loaded.  You must set `lazy` in order for this setting to take effect.",type:{name:"number"},required:!1},ImgElement:{defaultValue:{value:"'img'",computed:!1},required:!1},src:{description:"The SRC for the image.",type:{name:"string"},required:!1},url:{description:"The URL for the image.",type:{name:"string"},required:!1},notFoundSrc:{description:"The URL of the image to use in case the primary image fails to load.",type:{name:"string"},required:!1},aspectRatio:{description:"The ratio of height/width as a float.  For example: `1` when the height and width match,\n`0.5` when height is half of the width.",type:{name:"number"},required:!1}}}},"./src/LoadMask.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>LoadMask});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_mui_styles_makeStyles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mui/styles/makeStyles/makeStyles.js"),_mui_material_CircularProgress__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mui/material/CircularProgress/CircularProgress.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),useStyles=(0,_mui_styles_makeStyles__WEBPACK_IMPORTED_MODULE_2__.Z)((function styles(theme){return{root:{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"none",justifyContent:"center",alignItems:"center",background:theme.palette.background.default,zIndex:1},fullscreen:{height:"calc(100vh - ".concat(theme.loadMaskOffsetTop,"px)"),bottom:"initial",zIndex:theme.zIndex.modal-20,"body.moov-amp &":{position:"fixed",marginTop:0,opacity:.8}},transparent:{backgroundColor:"rgba(255,255,255,0.5)"},alignTop:{alignItems:"flex-start",paddingTop:"200px"},show:{display:"flex"}}}),{name:"RSFLoadMask"});function LoadMask(_ref){var _clsx,classes=_ref.classes,show=_ref.show,style=_ref.style,className=_ref.className,children=_ref.children,fullscreen=_ref.fullscreen,transparent=_ref.transparent,align=_ref.align;return classes=useStyles({classes}),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){fullscreen&&(document.body.style.overflow=show?"hidden":"visible")}),[show,fullscreen]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){return function(){fullscreen&&(document.body.style.overflow="visible")}})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style,className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)(className,classes.root,(_clsx={},(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__.Z)(_clsx,classes.show,!1!==show),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__.Z)(_clsx,classes.fullscreen,fullscreen),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__.Z)(_clsx,classes.transparent,transparent),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__.Z)(_clsx,classes.alignTop,"top"===align),_clsx)),children:children||(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mui_material_CircularProgress__WEBPACK_IMPORTED_MODULE_5__.Z,{className:classes.progress,color:"secondary"})})}LoadMask.displayName="LoadMask",LoadMask.propTypes={classes:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,show:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,fullscreen:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,transparent:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,align:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOf(["center","top"])},LoadMask.defaultProps={fullscreen:!1,transparent:!1,align:"center"},LoadMask.__docgenInfo={description:"A load mask to display when fetching data from the server.",methods:[],displayName:"LoadMask",props:{fullscreen:{defaultValue:{value:"false",computed:!1},description:"Set to `true` to toggle the overflow style on the body when showing.",type:{name:"bool"},required:!1},transparent:{defaultValue:{value:"false",computed:!1},description:"Set to `true` to show partially background through the load mask",type:{name:"bool"},required:!1},align:{defaultValue:{value:"'center'",computed:!1},description:"Set to `'top'` to show the spinner near the top.",type:{name:"enum",value:[{value:"'center'",computed:!1},{value:"'top'",computed:!1}]},required:!1},classes:{description:"Override or extend the styles applied to the component. See [CSS API](#css) below for more details.",type:{name:"object"},required:!1},show:{description:"If defined, `true` will display the load mask, while `false` will be hide it.",type:{name:"bool"},required:!1}}}},"./src/PWAContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/react/index.js").createContext()},"./src/api/addVersion.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>addVersion});var VERSION_PARAM="__v__";function addVersion(url){if(!url)return url;var appOrigin="http://throwaway.api";return"undefined"!=typeof window&&(appOrigin=window.location.href),"string"==typeof url&&(url=new URL(url,appOrigin)),"undefined"==typeof window||url.searchParams.has(VERSION_PARAM)||"undefined"==typeof __NEXT_DATA__||url.searchParams.append(VERSION_PARAM,__NEXT_DATA__.buildId),url}},"./src/api/getAPIURL.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>getAPIURL});var _addVersion__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/api/addVersion.js");function getAPIURL(pageURI){var parsed=(0,_addVersion__WEBPACK_IMPORTED_MODULE_0__.Z)(pageURI);return"/api"+parsed.pathname.replace(/\/$/,"")+parsed.search}},"./src/drawer/Drawer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Drawer_Drawer});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),ResizeObserver_es=__webpack_require__("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),Drawer=__webpack_require__("./node_modules/@mui/material/Drawer/Drawer.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),useTheme=__webpack_require__("./node_modules/@mui/material/styles/useTheme.js"),makeStyles=__webpack_require__("./node_modules/@mui/styles/makeStyles/makeStyles.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),Clear=__webpack_require__("./node_modules/@mui/icons-material/Clear.js"),Fab=__webpack_require__("./node_modules/@mui/material/Fab/Fab.js"),IconButton=__webpack_require__("./node_modules/@mui/material/IconButton/IconButton.js"),Button=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["classes","className","ampState","onClick","text","Icon","fullscreen","open"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var useStyles=(0,makeStyles.Z)((function styles(theme){return{button:{color:"#999",alignSelf:"flex-end",position:"absolute",top:0,right:0,zIndex:1,"& span":{textTransform:"uppercase",fontWeight:"bold"}},buttonText:{border:"1px solid #999",margin:"0 0 10px 0"},buttonFab:{position:"absolute",right:"10px",top:"-28px",zIndex:1,color:"white"},hidden:{display:"none"}}}),{name:"RSFDrawerCloseButton"});function DrawerCloseButton(_ref){var _clsx,ButtonElement,classes=_ref.classes,className=_ref.className,ampState=_ref.ampState,onClick=_ref.onClick,text=_ref.text,Icon=_ref.Icon,fullscreen=_ref.fullscreen,open=_ref.open,others=(0,objectWithoutProperties.Z)(_ref,_excluded);return classes=useStyles({classes}),ButtonElement=text?Button.Z:fullscreen?IconButton.Z:function ButtonElement(props){return(0,jsx_runtime.jsx)(Fab.Z,_objectSpread(_objectSpread({color:"primary"},props),{},{className:(0,clsx_m.Z)(props.className,!open&&classes.hidden),children:(0,jsx_runtime.jsx)(Icon,{})}))},(0,jsx_runtime.jsx)(ButtonElement,_objectSpread(_objectSpread({color:"primary",on:"tap:AMP.setState({ ".concat(ampState,": { open: false } })"),className:(0,clsx_m.Z)(className,(_clsx={},(0,defineProperty.Z)(_clsx,classes.button,!0),(0,defineProperty.Z)(_clsx,classes.buttonText,null!=text),(0,defineProperty.Z)(_clsx,classes.buttonFab,null==text&&!fullscreen),_clsx)),onClick},others),{},{children:text||(0,jsx_runtime.jsx)(Icon,{})}))}DrawerCloseButton.displayName="DrawerCloseButton",DrawerCloseButton.propTypes={classes:prop_types_default().object,className:prop_types_default().string,ampState:prop_types_default().string,onClick:prop_types_default().func,text:prop_types_default().string,Icon:prop_types_default().elementType,open:prop_types_default().bool,fullscreen:prop_types_default().bool},DrawerCloseButton.defaultProps={Icon:Clear.Z,open:!1},DrawerCloseButton.__docgenInfo={description:"A close button for drawers that can display text or an icon.",methods:[],displayName:"DrawerCloseButton",props:{Icon:{defaultValue:{value:"ClearIcon",computed:!0},description:"Overrides the default icon.",type:{name:"elementType"},required:!1},open:{defaultValue:{value:"false",computed:!1},description:"If `true`, the drawer is open",type:{name:"bool"},required:!1},classes:{description:"Override or extend the styles applied to the component. See [CSS API](#css) below for more details.",type:{name:"object"},required:!1},className:{description:"CSS class to apply to the root element.",type:{name:"string"},required:!1},ampState:{description:"The name of the amp state corresponding to the drawer.",type:{name:"string"},required:!1},onClick:{description:"Fired when the button is clicked.  Call `e.preventDefault()` on the\nprovided event to prevent the drawer from closing.",type:{name:"func"},required:!1},text:{description:"When set, this text will be displayed instead of an icon.",type:{name:"string"},required:!1},fullscreen:{description:"If `true`, the drawer is fullscreen and the close button will therefore be a `Fab` button.",type:{name:"bool"},required:!1}}};var Drawer_excluded=["variant","showCloseButton","open","onClose","title","children","className","classes","autoAdjustBodyPadding","anchor","fullscreen"];function Drawer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function Drawer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Drawer_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Drawer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Drawer_useStyles=(0,makeStyles.Z)((function styles(theme){return{root:{},closeButton:{},paper:{overflowY:"visible"},fullscreen:{height:"100vh"},container:{height:"100%",boxSizing:"border-box",flexWrap:"nowrap",display:"flex",flexDirection:"column"},header:{position:"relative"},content:{flexBasis:"100%",overflow:"auto"},title:{flexBasis:"auto",flexGrow:0,flexShrink:1,width:"100%",height:"72px",lineHeight:"72px",textAlign:"center",borderBottom:"1px solid ".concat(theme.palette.divider)}}}),{name:"RSFDrawer"});function Drawer_Drawer(_ref){var _clsx2,variant=_ref.variant,showCloseButton=_ref.showCloseButton,open=_ref.open,onClose=_ref.onClose,title=_ref.title,children=_ref.children,className=_ref.className,classes=_ref.classes,autoAdjustBodyPadding=_ref.autoAdjustBodyPadding,anchor=_ref.anchor,fullscreen=_ref.fullscreen,rest=(0,objectWithoutProperties.Z)(_ref,Drawer_excluded);classes=Drawer_useStyles({classes});var theme=(0,useTheme.Z)(),drawer=(0,react.useRef)(null),drawerResize=(0,react.useRef)(null),setPadding=(0,react.useCallback)((function(){autoAdjustBodyPadding&&requestAnimationFrame((function(){var el=drawer.current;document.body.style.paddingBottom=el&&el.clientHeight+"px"}))}),[autoAdjustBodyPadding]),closeDrawer=(0,react.useCallback)((function(){onClose&&onClose(),document.body.style.paddingBottom=0}),[onClose]);return(0,react.useEffect)((function(){var el=drawer.current;return setPadding(),autoAdjustBodyPadding&&el&&(drawerResize.current=new ResizeObserver_es.default((function(){document.body.style.paddingBottom=el&&el.clientHeight+"px"})),drawerResize.current.observe(el)),function(){drawerResize.current&&el&&drawerResize.current.unobserve(el)}}),[]),(0,jsx_runtime.jsx)(Drawer.ZP,Drawer_objectSpread(Drawer_objectSpread({elevation:2,anchor,style:{zIndex:theme.zIndex.modal+20},classes:{root:(0,clsx_m.Z)((0,defineProperty.Z)({className},classes.root,!0)),paper:(0,clsx_m.Z)((_clsx2={},(0,defineProperty.Z)(_clsx2,classes.paper,!0),(0,defineProperty.Z)(_clsx2,classes.fullscreen,fullscreen),_clsx2))},open,variant,onClose},rest),{},{children:(0,jsx_runtime.jsxs)("div",{className:classes.container,ref:drawer,children:[(0,jsx_runtime.jsxs)("div",{className:classes.header,children:[title&&(0,jsx_runtime.jsx)(Typography.Z,{className:classes.title,variant:"h6",component:"div",children:title}),showCloseButton&&(0,jsx_runtime.jsx)(DrawerCloseButton,{onClick:closeDrawer,fullscreen,open,className:(0,clsx_m.Z)(classes.closeButton)})]}),(0,jsx_runtime.jsx)("div",{className:classes.content,children})]})}))}Drawer_Drawer.displayName="Drawer",Drawer_Drawer.propTypes={classes:prop_types_default().object,className:prop_types_default().string,children:prop_types_default().node.isRequired,showCloseButton:prop_types_default().bool,fullscreen:prop_types_default().bool,onClose:prop_types_default().func.isRequired,title:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().element]),autoAdjustBodyPadding:prop_types_default().bool,anchor:prop_types_default().oneOf(["top","bottom","left","right"]),variant:prop_types_default().oneOf(["permanent","persistent","temporary"])},Drawer_Drawer.defaultProps={showCloseButton:!0,autoAdjustBodyPadding:!1,variant:"temporary",anchor:"bottom"},Drawer_Drawer.__docgenInfo={description:"A slide-in drawer with fab close button.",methods:[],displayName:"Drawer",props:{showCloseButton:{defaultValue:{value:"true",computed:!1},description:"If `false`, the close button will be hidden.",type:{name:"bool"},required:!1},autoAdjustBodyPadding:{defaultValue:{value:"false",computed:!1},description:"If `true`, padding will be automatically added to the body when the drawer\nis open so that the user is able to scroll and see all of the body content.",type:{name:"bool"},required:!1},variant:{defaultValue:{value:"'temporary'",computed:!1},description:"The variant to use for the MaterialUI [`Drawer`)(https://material-ui.com/api/drawer/#props).",type:{name:"enum",value:[{value:"'permanent'",computed:!1},{value:"'persistent'",computed:!1},{value:"'temporary'",computed:!1}]},required:!1},anchor:{defaultValue:{value:"'bottom'",computed:!1},description:"Side from which the drawer will appear (top, left, right, bottom).",type:{name:"enum",value:[{value:"'top'",computed:!1},{value:"'bottom'",computed:!1},{value:"'left'",computed:!1},{value:"'right'",computed:!1}]},required:!1},classes:{description:"Override or extend the styles applied to the component. See [CSS API](#css) below for more details.",type:{name:"object"},required:!1},className:{description:"CSS class to apply to the root element.",type:{name:"string"},required:!1},children:{description:"Child nodes to show inside the Drawer.",type:{name:"node"},required:!0},fullscreen:{description:"If `true`, the drawer will cover the whole screen.",type:{name:"bool"},required:!1},onClose:{description:"A function that is called when the user closes the drawer.",type:{name:"func"},required:!0},title:{description:"The title to display at the top of the drawer.",type:{name:"union",value:[{name:"string"},{name:"element"}]},required:!1}}}},"./src/link/Link.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>link_Link});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),next_link=__webpack_require__("./node_modules/next/link.js");const link_LinkContext=(0,react.createContext)();var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),serviceWorker=__webpack_require__("./src/serviceWorker.js"),withDefaultHandler=__webpack_require__("./src/utils/withDefaultHandler.js"),getAPIURL=__webpack_require__("./src/api/getAPIURL.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["as","href","prefetch","prefetchURL","pageData","onClick","children","className"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Link=function Link(_ref){var as=_ref.as,href=_ref.href,prefetch=_ref.prefetch,prefetchURL=_ref.prefetchURL,pageData=_ref.pageData,onClick=_ref.onClick,children=_ref.children,className=_ref.className,other=(0,objectWithoutProperties.Z)(_ref,_excluded),ref=(0,react.useRef)(null),linkPageData=(0,react.useContext)(link_LinkContext),handleClick=(0,withDefaultHandler.Z)(onClick,(function(){linkPageData&&(linkPageData.current=pageData)}));if(prefetchURL=prefetchURL||as&&(0,getAPIURL.Z)(as),(0,react.useEffect)((function(){"always"===prefetch&&prefetchURL&&(0,serviceWorker.tL)(prefetchURL)}),[prefetchURL]),children&&"string"!=typeof children){var passHref=!react.Children.only(children).props.href;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(next_link.default,{href,prefetch:!1,as,passHref,className,children:react.cloneElement(children,_objectSpread({onClick:handleClick},other))})})}return(0,jsx_runtime.jsx)(next_link.default,{href,prefetch:!1,as,passHref:!0,children:(0,jsx_runtime.jsx)("a",_objectSpread(_objectSpread({ref},other),{},{onClick:handleClick,className,children:(0,jsx_runtime.jsx)("span",{children})}))})};Link.propTypes={className:prop_types_default().string,as:prop_types_default().string,href:prop_types_default().string.isRequired,prefetch:prop_types_default().oneOf(["always","visible",!1]),prefetchURL:prop_types_default().string,pageData:prop_types_default().object,onClick:prop_types_default().func,children:prop_types_default().node},Link.__docgenInfo={description:"Use this component for all Links in your React Storefront app.  You can\npass props to display on the next page while data is loading from the server\nusing the `pageData` prop. This component accepts all props that would\nnormally be passed to a [Next.js `Link` component](https://nextjs.org/docs/api-reference/next/link).\nAll other props are spread to the underlying HTML anchor element.\n\nExample:\n\n```js\nimport Link from 'component-library/link/Link'\n\n<Link href=\"/p/[productId]\" as={`/p/${product.id}`} pageData={{ product }}>\n  {product.name}\n</Link>\n```",methods:[],displayName:"Link",props:{className:{description:"Inherit className from props",type:{name:"string"},required:!1},as:{description:"The URL path for the underlying anchor element's `href`.  This is required for dynamic routes.",type:{name:"string"},required:!1},href:{description:"The next.js route pattern",type:{name:"string"},required:!0},prefetch:{description:"Set to `visible` to prefetch the JSON data for the destination page component when the link\nis scrolled into the viewport.  Set to `always` to prefetch the data immediately. Set to\n`false` to never prefetch.",type:{name:"enum",value:[{value:"'always'",computed:!1},{value:"'visible'",computed:!1},{value:"false",computed:!1}]},required:!1},prefetchURL:{description:"The URL to prefetch.  If omitted, `/api/{href}` will be prefetched.",type:{name:"string"},required:!1},pageData:{description:"Data to be added to the `pageData` key returned by [`/hooks/useLazyState`](/apiReference/hooks/useLazyState)\nin the destination page component.  Use this to display partial data in the skeleton while the full dataset\nis fetched from the server.",type:{name:"object"},required:!1},onClick:{description:"An optional function to run when the Link is clicked.",type:{name:"func"},required:!1},children:{description:"Content children of the link element.",type:{name:"node"},required:!1}}};const link_Link=Link},"./src/serviceWorker.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{NK:()=>prefetchJsonFor,tL:()=>prefetch});var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_api_getAPIURL__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/api/getAPIURL.js"),_api_addVersion__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/api/addVersion.js"),process=__webpack_require__("./node_modules/process/browser.js"),prefetched=new Set;function prefetch(_x){return _prefetch.apply(this,arguments)}function _prefetch(){return(_prefetch=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee(url){var link,relList,rel;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(null!=url){_context.next=2;break}return _context.abrupt("return");case 2:_context.next=4;break;case 4:if(url=(0,_api_addVersion__WEBPACK_IMPORTED_MODULE_2__.Z)(url).toString(),!prefetched.has(url)){_context.next=7;break}return _context.abrupt("return");case 7:return prefetched.add(url),_context.next=10,!(!navigator.serviceWorker||!navigator.serviceWorker.ready)&&new Promise((function(resolve){navigator.serviceWorker.ready.then((function(){if(navigator.serviceWorker.controller)return resolve(!0);navigator.serviceWorker.addEventListener("controllerchange",(function(){return resolve(!0)}))}))}));case 10:link=document.createElement("link"),relList=link.relList,rel=relList.supports("preload")&&!relList.supports("prefetch")?"preload":"prefetch",link.setAttribute("href",addPrefetchParam(url)),link.setAttribute("as","fetch"),link.setAttribute("rel",rel),document.head.append(link);case 17:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function prefetchJsonFor(url){return prefetch((0,_api_getAPIURL__WEBPACK_IMPORTED_MODULE_3__.Z)(url))}function addPrefetchParam(url){var prefetchQueryParam=process.env.RSF_PREFETCH_QUERY_PARAM;if(prefetchQueryParam){var parsed=new URL(url,location.href);return parsed.hostname===location.hostname&&parsed.searchParams.append(prefetchQueryParam,"1"),parsed.toString()}return url}},"./src/utils/withDefaultHandler.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function withDefaultHandler(handler,defaultHandler){return function(e){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];handler&&handler.apply(void 0,[e].concat(args)),e.defaultPrevented||defaultHandler.apply(void 0,[e].concat(args))}}__webpack_require__.d(__webpack_exports__,{Z:()=>withDefaultHandler})},"./node_modules/next/amp.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/next/dist/next-server/lib/amp.js")},"./node_modules/next/dist/client/link.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var _interopRequireWildcard=__webpack_require__("./node_modules/next/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__("./node_modules/react/index.js")),_router=__webpack_require__("./node_modules/next/dist/next-server/lib/router/router.js"),_router2=__webpack_require__("./node_modules/next/dist/client/router.js"),_useIntersection=__webpack_require__("./node_modules/next/dist/client/use-intersection.js");const prefetched={};function prefetch(router,href,as,options){if("undefined"==typeof window||!router)return;if(!(0,_router.isLocalURL)(href))return;router.prefetch(href,as,options).catch((err=>{0}));const curLocale=options&&void 0!==options.locale?options.locale:router&&router.locale;prefetched[href+"%"+as+(curLocale?"%"+curLocale:"")]=!0}var _default=function Link(props){const p=!1!==props.prefetch,router=(0,_router2.useRouter)(),pathname=router&&router.asPath||"/",{href,as}=_react.default.useMemo((()=>{const[resolvedHref,resolvedAs]=(0,_router.resolveHref)(pathname,props.href,!0);return{href:resolvedHref,as:props.as?(0,_router.resolveHref)(pathname,props.as):resolvedAs||resolvedHref}}),[pathname,props.href,props.as]);let{children,replace,shallow,scroll,locale}=props;"string"==typeof children&&(children=_react.default.createElement("a",null,children));const child=_react.Children.only(children),childRef=child&&"object"==typeof child&&child.ref,[setIntersectionRef,isVisible]=(0,_useIntersection.useIntersection)({rootMargin:"200px"}),setRef=_react.default.useCallback((el=>{setIntersectionRef(el),childRef&&("function"==typeof childRef?childRef(el):"object"==typeof childRef&&(childRef.current=el))}),[childRef,setIntersectionRef]);(0,_react.useEffect)((()=>{const shouldPrefetch=isVisible&&p&&(0,_router.isLocalURL)(href),curLocale=void 0!==locale?locale:router&&router.locale,isPrefetched=prefetched[href+"%"+as+(curLocale?"%"+curLocale:"")];shouldPrefetch&&!isPrefetched&&prefetch(router,href,as,{locale:curLocale})}),[as,href,isVisible,locale,p,router]);const childProps={ref:setRef,onClick:e=>{child.props&&"function"==typeof child.props.onClick&&child.props.onClick(e),e.defaultPrevented||function linkClicked(e,router,href,as,replace,shallow,scroll,locale){const{nodeName}=e.currentTarget;("A"!==nodeName||!function isModifiedEvent(event){const{target}=event.currentTarget;return target&&"_self"!==target||event.metaKey||event.ctrlKey||event.shiftKey||event.altKey||event.nativeEvent&&2===event.nativeEvent.which}(e)&&(0,_router.isLocalURL)(href))&&(e.preventDefault(),null==scroll&&(scroll=as.indexOf("#")<0),router[replace?"replace":"push"](href,as,{shallow,locale,scroll}))}(e,router,href,as,replace,shallow,scroll,locale)},onMouseEnter:e=>{(0,_router.isLocalURL)(href)&&(child.props&&"function"==typeof child.props.onMouseEnter&&child.props.onMouseEnter(e),prefetch(router,href,as,{priority:!0}))}};if(props.passHref||"a"===child.type&&!("href"in child.props)){const curLocale=void 0!==locale?locale:router&&router.locale,localeDomain=router&&router.isLocaleDomain&&(0,_router.getDomainLocale)(as,curLocale,router&&router.locales,router&&router.domainLocales);childProps.href=localeDomain||(0,_router.addBasePath)((0,_router.addLocale)(as,curLocale,router&&router.defaultLocale))}return _react.default.cloneElement(child,childProps)};exports.default=_default},"./node_modules/next/dist/client/use-intersection.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.__esModule=!0,exports.useIntersection=function useIntersection({rootMargin,disabled}){const isDisabled=disabled||!hasIntersectionObserver,unobserve=(0,_react.useRef)(),[visible,setVisible]=(0,_react.useState)(!1),setRef=(0,_react.useCallback)((el=>{unobserve.current&&(unobserve.current(),unobserve.current=void 0),isDisabled||visible||el&&el.tagName&&(unobserve.current=function observe(element,callback,options){const{id,observer,elements}=function createObserver(options){const id=options.rootMargin||"";let instance=observers.get(id);if(instance)return instance;const elements=new Map,observer=new IntersectionObserver((entries=>{entries.forEach((entry=>{const callback=elements.get(entry.target),isVisible=entry.isIntersecting||entry.intersectionRatio>0;callback&&isVisible&&callback(isVisible)}))}),options);return observers.set(id,instance={id,observer,elements}),instance}(options);return elements.set(element,callback),observer.observe(element),function unobserve(){elements.delete(element),observer.unobserve(element),0===elements.size&&(observer.disconnect(),observers.delete(id))}}(el,(isVisible=>isVisible&&setVisible(isVisible)),{rootMargin}))}),[isDisabled,rootMargin,visible]);return(0,_react.useEffect)((()=>{if(!hasIntersectionObserver&&!visible){const idleCallback=(0,_requestIdleCallback.requestIdleCallback)((()=>setVisible(!0)));return()=>(0,_requestIdleCallback.cancelIdleCallback)(idleCallback)}}),[visible]),[setRef,visible]};var _react=__webpack_require__("./node_modules/react/index.js"),_requestIdleCallback=__webpack_require__("./node_modules/next/dist/client/request-idle-callback.js");const hasIntersectionObserver="undefined"!=typeof IntersectionObserver;const observers=new Map},"./node_modules/next/dist/next-server/lib/amp-context.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.__esModule=!0,exports.AmpStateContext=void 0;const AmpStateContext=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/react/index.js")).default.createContext({});exports.AmpStateContext=AmpStateContext},"./node_modules/next/dist/next-server/lib/amp.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.useAmp=function useAmp(){return isInAmpMode(_react.default.useContext(_ampContext.AmpStateContext))};var _react=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/react/index.js")),_ampContext=__webpack_require__("./node_modules/next/dist/next-server/lib/amp-context.js");function isInAmpMode({ampFirst=!1,hybrid=!1,hasQuery=!1}={}){return ampFirst||hybrid&&hasQuery}},"./node_modules/next/link.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/next/dist/client/link.js")},"./node_modules/storybook-addon-state/dist/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var addons_1=__importDefault(__webpack_require__("@storybook/addons")),core_events_1=__webpack_require__("@storybook/core-events"),stores={};addons_1.default.getChannel().addListener(core_events_1.STORY_CHANGED,(function(){stores={}}));exports.default=function useState(name,store){var actualVals=void 0===stores[name]?store:stores[name];stores[name]=actualVals;var update=function(newState){stores[name]=newState,addons_1.default.getChannel().emit(core_events_1.FORCE_RE_RENDER)};return update.toString=function(){return"set"+((string=name).charAt(0).toUpperCase()+string.slice(1)+"(newState)");var string},[actualVals,update]}}}]);
//# sourceMappingURL=Search-stories.a88bd4f5.iframe.bundle.js.map