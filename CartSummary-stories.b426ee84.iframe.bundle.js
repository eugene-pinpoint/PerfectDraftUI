"use strict";(self.webpackChunkcomponent_library=self.webpackChunkcomponent_library||[]).push([[6087],{"./src/stories/CartSummary.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>CartSummary_stories,standard:()=>standard});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-knobs/dist/index.js"),slicedToArray=(__webpack_require__("./node_modules/@storybook/addon-docs/dist/index.mjs"),__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js")),yup=__webpack_require__("./node_modules/@hookform/resolvers/yup/dist/yup.mjs"),Icon=__webpack_require__("./node_modules/@mui/material/Icon/Icon.js"),LocalShipping=__webpack_require__("./node_modules/@mui/icons-material/LocalShipping.js"),CreditCard=__webpack_require__("./node_modules/@mui/icons-material/CreditCard.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),es=__webpack_require__("./node_modules/yup/es/index.js"),CheckoutContext=__webpack_require__("./src/CheckoutContext.js"),productList=(__webpack_require__("./src/data/countries.json"),__webpack_require__("./src/data/productList.json")),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");var schema=es.Ry().shape({email:es.Z_().email().max(256).required(),firstName:es.Z_().max(300).required(),lastName:es.Z_().max(300).required(),phone:es.Z_().length(10).required(),postcode:es.Z_().min(5).required(),address:es.Z_().max(400).required(),city:es.Z_().max(100).required(),country:es.Z_().min(2).required()}),CartSummary=function CartSummary(_ref){_ref.setActiveStep;var checkoutContext=(0,CheckoutContext.M)(),_React$useState=react.useState("standard"),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),methods=(_React$useState2[0],_React$useState2[1],(0,index_esm.cI)({mode:"onChange",resolver:(0,yup.X)(schema),defaultValues:checkoutContext.state.shippingInfo}));methods.watch,methods.formState.errors;console.log();return(0,jsx_runtime.jsx)("div",{className:"checkout__sidebar",children:(0,jsx_runtime.jsxs)("div",{className:"panel panel--outlined panel--no-padding",children:[(0,jsx_runtime.jsxs)("div",{className:"stepper",children:[(0,jsx_runtime.jsxs)("div",{className:"stepper__item ".concat("stepper__item--active"),children:[(0,jsx_runtime.jsx)(Icon.Z,{className:"stepper__item-icon",children:(0,jsx_runtime.jsx)(LocalShipping.Z,{})}),(0,jsx_runtime.jsx)("span",{className:"stepper__item-text",children:"Delivery"})]}),(0,jsx_runtime.jsxs)("div",{className:"stepper__item stepper__item--right ".concat(!1),children:[(0,jsx_runtime.jsx)(Icon.Z,{className:"stepper__item-icon",children:(0,jsx_runtime.jsx)(CreditCard.Z,{})}),(0,jsx_runtime.jsx)("span",{className:"stepper__item-text",children:"Payment"})]})]}),(0,jsx_runtime.jsx)("div",{className:"panel__section",children:(0,jsx_runtime.jsx)("div",{className:"cart-items",children:(0,jsx_runtime.jsx)("ul",{className:"product-list--cart",children:products.map((function(product){return(0,jsx_runtime.jsx)("li",{className:"product-list__item",children:(0,jsx_runtime.jsx)(CartItem,{product,inCheckout:!0},product.id)},product.id)}))})})}),(0,jsx_runtime.jsx)("div",{className:"panel__section",children:(0,jsx_runtime.jsxs)("div",{className:"summary",children:[(0,jsx_runtime.jsxs)("div",{className:"summary__item",children:[(0,jsx_runtime.jsx)("span",{className:"summary__label",children:"Subtotal"}),(0,jsx_runtime.jsx)("span",{className:"summary__value",children:price(productList.R.reduce((function(a,b){return a+b.quantity*parseFloat(b.price)}),0),{currency:get(session,"currency")})})]}),(0,jsx_runtime.jsxs)("div",{className:"summary__item summary__item--light",children:[(0,jsx_runtime.jsx)("span",{className:"summary__label",children:"Delivery"}),(0,jsx_runtime.jsx)("span",{className:"summary__value",children:"Not yet estimated"})]}),(0,jsx_runtime.jsxs)("div",{className:"summary__item summary__item--total",children:[(0,jsx_runtime.jsx)("span",{className:"summary__label",children:"Order Total"}),(0,jsx_runtime.jsx)("span",{className:"summary__value",children:price(productList.R.reduce((function(a,b){return a+b.quantity*parseFloat(b.price)}),0),{currency:get(session,"currency")})})]})]})})]})})};CartSummary.displayName="CartSummary",CartSummary.__docgenInfo={description:"",methods:[],displayName:"CartSummary"};const src_CartSummary=CartSummary;var _standard$parameters,_standard$parameters2;function CartSummary_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CartSummary_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CartSummary_stories_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CartSummary_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const CartSummary_stories={parameters:{storySource:{source:"import React from 'react';\nimport { withKnobs, text, array, boolean, button } from '@storybook/addon-knobs';\nimport { Meta, Story, Canvas } from '@storybook/addon-docs';\nimport CartSummary from '../CartSummary';\nimport { CheckoutProvider } from '../CheckoutContext';\n\n// <Meta title=\"MDX/Checkbox\" component={Braintree} />\n\nexport default {\n  title: 'checkout/CartSummary',\n  decorators: [withKnobs]\n};\nconst handler = () => {\n  window.alert('Handler after payment is complete');\n};\n\n// button('onPaymentCompleted', handler)\n\nexport const standard = () => <CheckoutProvider>\n    <CartSummary />\n  </CheckoutProvider>;\nstandard.parameters = {\n  ...standard.parameters,\n  docs: {\n    ...standard.parameters?.docs,\n    source: {\n      originalSource: \"() => <CheckoutProvider>\\n    <CartSummary />\\n  </CheckoutProvider>\",\n      ...standard.parameters?.docs?.source\n    }\n  }\n};",locationsMap:{standard:{startLoc:{col:24,line:19},endLoc:{col:21,line:21},startBody:{col:24,line:19},endBody:{col:21,line:21}}}}},title:"checkout/CartSummary",decorators:[dist.withKnobs]};var standard=function standard(){return(0,jsx_runtime.jsx)(CheckoutContext.o,{children:(0,jsx_runtime.jsx)(src_CartSummary,{})})};standard.displayName="standard",standard.parameters=CartSummary_stories_objectSpread(CartSummary_stories_objectSpread({},standard.parameters),{},{docs:CartSummary_stories_objectSpread(CartSummary_stories_objectSpread({},null===(_standard$parameters=standard.parameters)||void 0===_standard$parameters?void 0:_standard$parameters.docs),{},{source:CartSummary_stories_objectSpread({originalSource:"() => <CheckoutProvider>\n    <CartSummary />\n  </CheckoutProvider>"},null===(_standard$parameters2=standard.parameters)||void 0===_standard$parameters2||null===(_standard$parameters2=_standard$parameters2.docs)||void 0===_standard$parameters2?void 0:_standard$parameters2.source)})});var __namedExportsOrder=["standard"];standard.__docgenInfo={description:"",methods:[],displayName:"standard"}}}]);